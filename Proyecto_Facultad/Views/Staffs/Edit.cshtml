@model Proyecto_Facultad.Models.Staff



<div class="container">
    <h2 class="text-primary pt-4">Editar Staff</h2>
    <form asp-controller="Staffs" asp-action="Edit" method="post">
        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="IdStaff" class="form-label"></label>
                <input asp-for="IdStaff" class="form-control" readonly />
            </div>
            <div class="col-md-6">
                <label asp-for="IdUsuario" class="form-label"></label>
                <input asp-for="IdUsuario" class="form-control" readonly />
            </div>
        </div>
        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="PrimerNombreStaff" class="form-label"></label>
                <input asp-for="PrimerNombreStaff" class="form-control" />
                <span asp-validation-for="PrimerNombreStaff" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="SegundoNombreStaff" class="form-label"></label>
                <input asp-for="SegundoNombreStaff" class="form-control" />
                <span asp-validation-for="SegundoNombreStaff" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="OtrosNombresStaff" class="form-label"></label>
                <input asp-for="OtrosNombresStaff" class="form-control" />
                <span asp-validation-for="OtrosNombresStaff" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="PrimerApellidoStaff" class="form-label"></label>
                <input asp-for="PrimerApellidoStaff" class="form-control" />
                <span asp-validation-for="PrimerApellidoStaff" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="SegundoApellidoStaff" class="form-label"></label>
                <input asp-for="SegundoApellidoStaff" class="form-control" />
                <span asp-validation-for="SegundoApellidoStaff" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="ApellidoCasado" class="form-label"></label>
                <input asp-for="ApellidoCasado" class="form-control" />
                <span asp-validation-for="ApellidoCasado" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="Dpi" class="form-label"></label>
                <input asp-for="Dpi" class="form-control" maxlength="13" minlength="13" pattern="\d{13}" title="El DPI debe contener 13 dígitos sin guiones."  />
                <span asp-validation-for="Dpi" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="FechaNacimiento" class="form-label"></label>
                <input asp-for="FechaNacimiento" class="form-control" type="date" />
                <span asp-validation-for="FechaNacimiento" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="FechaBautizo" class="form-label"></label>
                <input asp-for="FechaBautizo" class="form-control" type="date" />
                <span asp-validation-for="FechaBautizo" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="Direccion" class="form-label"></label>
                <input asp-for="Direccion" class="form-control" />
                <span asp-validation-for="Direccion" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="Telefono" class="form-label"></label>
                 <input asp-for="Telefono" class="form-control" maxlength="8" minlength="8" pattern="\d{8}" title="El teléfono debe contener 8 dígitos sin guiones." />
                <span asp-validation-for="Telefono" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="NumeroCelula" class="form-label"></label>
                <input asp-for="NumeroCelula" class="form-control" />
                <span asp-validation-for="NumeroCelula" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="NivelAprobado" class="form-label"></label>
                <select asp-for="NivelAprobado" class="form-control">'
                    <option value="1">1</option>
                    <option value="2">2</option>
                </select>'
                <span asp-validation-for="NivelAprobado" class="text-danger"></span>
            </div>
            <div class="col-md-6">
                <label asp-for="EstadoCivil" class="form-label"></label>
                <select asp-for="EstadoCivil" class="form-control" >
                    <option value="Soltero">Soltero</option>
                    <option value="Casado">Casado</option>
                </select>
                <span asp-validation-for="EstadoCivil" class="text-danger"></span>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <div class="form-check">
                    <input asp-for="EstatusStaff" class="form-check-input" type="checkbox" />
                    <label asp-for="EstatusStaff" class="form-check-label"></label>
                    <span asp-validation-for="EstatusStaff" class="text-danger"></span>
                </div>
            </div>
        </div>

        <div class="form-group d-flex">
            <button type="submit" class="btn btn-primary flex-fill me-2">Guardar</button>
            <a asp-action="Index" class="btn btn-danger flex-fill">Cancelar</a>
        </div>
    </form>
</div>

@section scripts {
    <partial name="_ValidationScriptsPartial" />
    <script>
        document.querySelector('form').addEventListener('submit', function (event) {
    var fechaNacimientoInput = document.getElementById('fechaNacimiento');
    var fechaNacimientoError = document.getElementById('fechaNacimientoError');
    var fechaBautizoInput = document.getElementById('fechaBautizo');
    var fechaBautizoError = document.getElementById('fechaBautizoError');
    var telefonoInput = document.getElementById('telefono');
    var telefonoError = document.getElementById('telefonoError');

    var fechaNacimiento = new Date(fechaNacimientoInput.value);
    var fechaBautizo = new Date(fechaBautizoInput.value);
    var today = new Date();
    today.setHours(0, 0, 0, 0);

    var valid = true;

    if (fechaNacimiento > today) {
        fechaNacimientoError.textContent = "La fecha de nacimiento no puede ser mayor que la fecha actual.";
        valid = false;
    } else {
        fechaNacimientoError.textContent = "";
    }

    if (fechaBautizo && fechaBautizo > today) {
        fechaBautizoError.textContent = "La fecha de bautizo no puede ser mayor que la fecha actual.";
        valid = false;
    } else {
        fechaBautizoError.textContent = "";
    }

    var telefono = telefonoInput.value;
    if (telefono.length !== 8) {
        telefonoError.textContent = "El teléfono debe tener exactamente 8 dígitos.";
        valid = false;
    } else {
        telefonoError.textContent = "";
    }

    if (!valid) {
        event.preventDefault(); 
    }
});
    </script>
}
